<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Animal Alphabet</title>
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/main.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<!-- <script src="js/zoo.js"></script> -->
	</head>
	<body class="body">
		<section class='animals'>
			<h1 class="animalName">Tap any key!</h1>

			<div class='animal' data-key=''>
  				<span class="played"></span>		
			</div>

			<audio data-key="65" src="files/goat.wav"></audio>
		  	<audio data-key="66" src="files/elephant.wav"></audio>
			

		</section>
		<script>
			function removeBackgroundImage(e) {
				if e.propertyName !== 'background-image' return;
				e.target.classList.remove('background-image');
			}
			const body = document.getElementById("body");
			//remove any previously added keyCode/ background image:
			// body.removeClass("${e.keyCode}");
			
			window.addEventListener('keydown', function(e) {

				//get keyCode 
				const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);

				//if a key is not assigned to a sound:
				if(!audio) return;
				// reset to beginning of sound on each keydown:
				audio.currentTime = 0;
				//play the sound:
				audio.play();
				//add keyCode as a class to change background image.
				// body.addClass("${e.keyCode}");
				body.addEventListener('changed', removeBackgroundImage)
				console.log(e.keyCode);
			});

		</script>
	</body>
</html>
